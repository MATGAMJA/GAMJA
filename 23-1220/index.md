# 인덱스

## 인덱스란?
추가적인 쓰기 작업과 저장 공간을 활용해 DB 테이블의 검색 속도를 향상시키기 위한 자료구조

말 그대로 "색인"

인덱스 활용 시, select 외에도 update / delete 성능도 함께 향상됨  
→ 해당 연산을 수행하려면 조회해야만 할 수 있기 때문

```sql
UPDATE USER SET NAME = 'SUBIN' WHERE NAME = 'HWANG';
```

인덱스를 활용하지 않는다면 전체를 비교하여 탐색해야 해서 처리 속도가 떨어짐

## 인덱스의 관리
DBMS는 index를 항상 정렬된 상태로 유지해야 원하는 값을 빠르게 탐색할 수 있음

**INSERT** 새로운 데이터에 대한 인덱스 추가  
**DELETE** 삭제하는 데이터의 인덱스를 사용하지 않는다는 작업  
**UPDATE** 기존의 인덱스를 사용하지 않음 처리 + 갱신된 데이터에 대한 인덱스 추가  

## 장단점
- 장점
    - 테이블을 조회하는 속도가 빠름
    - 시스템의 부하 줄일 수 있음

- 단점
    - 인덱스 관리를 위해 DB의 10%정도의 저장공간이 필요함
    - 인덱스 관리를 위해 추가 작업이 필요함
    - 잘못 사용하면 오히려 성능 저하의 역효과가 발생함

> UPDATE / DELETE 연산은 기존의 인덱스를 삭제하지 않고 사용하지 않음 처리를 해주는데 이 작업이 빈번하게 발생하면 실제 데이터에 비해 인덱스가 훨씬 많이 존재하게 되어 성능 저하 발생

## 어떤 곳에서 사용해야 할까?
- 규모가 작지 않은 테이블
- INSERT, UPDATE, DELETE가 빈번하지 않은 컬럼
- JOIN / WHERE / ORDER BY에 자주 사용되는 컬럼
- 데이터의 중복도가 낮은 컬럼

생성된 인덱스 관리도 중요하기 때문에 사용되지 않는 인덱스는 제거해주는 게 좋다 !

## 인덱스의 자료구조
인덱스의 구현을 위해 대표적으로 `해시 테이블`과 `B+ Tree` 사용